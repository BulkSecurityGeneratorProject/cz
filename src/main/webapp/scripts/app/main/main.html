<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css"/>

<div ng-cloak>
    <div class="row">

        <div class="col-md-12">
            <h1>Chris Anatalio Zappos Challenge 11/24/2015!!! </h1>

            <p class="lead">Find product combinations based on max price point</p>

            <div class="row">
                <div class="col-md-12">
                    <button class="btn btn-info btn-xs" type="button" data-toggle="collapse"
                            data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                        <i class="fa fa-info-circle"></i> &nbsp; About this project
                    </button>
                </div>
            </div>
            <br/>

            <div class="collapse" id="collapseExample">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <ul>
                            <li>
                                Built by: Chris Anatalio(anataliocs@gmail.com)
                            </li>
                            <li>
                                Date: 11/23/2015 5PM EST - 11/24/2015 5PM EST
                            </li>
                            <li>
                                For: "The challenge you've been waiting for!" Coding challenge from Althea Dunn
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <br/>


            <div class="row">
                <div class="col-md-4">

                    <div class="input-group">
                        <span class="input-group-addon">$</span>
                        <input class="form-control input-lg" type="text" placeholder="Total Max Cost" required="true"
                               ng-model="totalMaxCost">
                    </div>

                </div>
                <div class="col-md-4">

                    <select id="selectProductCount" class="form-control input-lg" required="true"
                            ng-model="productCount">
                        <option value="0">How many items?</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <button type="submit" ng-click="getProductsBySearchTerm()"
                            class="btn btn-primary btn-lg"><i class="fa fa-search"></i> Search!
                    </button>


                </div>
            </div>


            <br/>

            <div ng-show="productSearchResultsLoading">
                <div class="row">
                    <div class="col-md-12 text-center center-block">

                        <i class="fa fa-4x fa-circle-o-notch fa-spin"></i>

                        <h3>Retrieving Happiness...</h3>
                    </div>
                </div>
            </div>

            <div ng-show="productSearchResultsList.length <= 0 && !productSearchResultsLoading && firstSearchPerformed">
                <div class="row">
                    <div class="col-md-12 text-center center-block">
                        <h3>No products found!</h3>
                        <h6>Try increasing total cost or reducing number of items.</h6>
                        <br/>
                    </div>
                </div>
            </div>

            <div ng-show="productSearchResultsList.length > 0">
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h2 class="panel-title">Here are the products we found!</h2>
                            </div>
                            <div class="panel-body ">

                                <div class="row">
                                    <div class="col-md-9">
                                        <h3>
                                            Selected Zappos Products Combos</h3>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12">

                                                <div ng-repeat="productCombo in productSearchResultsList track by $index"
                                                     class="">
                                                    <div class="well">

                                                        <div class="row">
                                                            <div class="col-md-12 text-center center-block">
                                                                <h4>Product Combo: {{$index+1}}</h4>
                                                                <h3><span class="label label-success">Total: ${{productSearchResultsTotalPriceList[$index]}}</span></h3>
                                                                <br/>
                                                            </div>
                                                        </div>

                                                        <div class="row">

                                                            <div class="col-sm-4"
                                                                 ng-repeat="item in productCombo">

                                                                <h4><strong>{{item.brandName}} - </strong>
                                                                    {{item.productName}}</h4>
                                                                <div class="col-item">
                                                                    <div class="photo">
                                                                        <img ng-src="{{item.thumbnailImageUrl}}"
                                                                             class="img-responsive"
                                                                             alt="a"/>
                                                                    </div>
                                                                    <div class="info">
                                                                        <div class="row">
                                                                            <div class="price col-md-6">
                                                                                <h4 class="price-text-color">
                                                                                    {{item.price}}</h4>
                                                                                <strong>Item Id:</strong> item {{item.productId}}
                                                                                <br/>
                                                                                <strong>Style Id:</strong> item {{item.styleId}}
                                                                                <br/>
                                                                                <strong>Color Id:</strong> item {{item.colorId}}
                                                                                <br/>

                                                                                <a ng-href="{{item.productUrl}}" target="_blank">Product Link</a>

                                                                            </div>

                                                                        </div>

                                                                        <div class="clearfix">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
